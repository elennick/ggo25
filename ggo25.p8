pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
debug = true
nmes = {} //enemies
frm = 0   //frames since start
sec = 0   //seconds since start

function _init() 
  cls()
  
  e1 = {}
  e1.x = 16 - 4
  e1.y = 16 - 4
  e1.i = 1    //base frame
  e1.ftm = 25 //frames til move
  add(nmes, e1)
  
  e2 = {}
  e2.x = 32 - 4
  e2.y = 16 - 4
  e2.i = 3
  e2.ftm = 50
  add(nmes, e2)
  
  e3 = {}
  e3.x = 48 - 4
  e3.y = 16 - 4
  e3.i = 5
  e3.ftm = 100
  add(nmes, e3)
  
  e4 = {}
  e4.x = 64 - 4
  e4.y = 16 - 4
  e4.i = 7
  e4.ftm = 75
  add(nmes, e4)
  
  e5 = {}
  e5.x = 80 - 4
  e5.y = 16 - 4
  e5.i = 1
  e5.ftm = 150
  add(nmes, e5)
    
  e6 = {}
  e6.x = 96 - 4
  e6.y = 16 - 4
  e6.i = 3
  e6.ftm = 125
  add(nmes, e6)
  
  e7 = {}
  e7.x = 112 - 4
  e7.y = 16 - 4
  e7.i = 5
  e7.ftm = 75
  add(nmes, e7)
end

function _update()
		frm = frm + 1
  sec = flr(time())
  move_enemies()
end

function _draw()
  cls()
  line(0,0,0,127,1)
  line(127,0,127,127,1)
  
  //draw enemy sprites
  for x=1,#nmes do
    e = nmes[x]
    if sec % 2 == 0 then
      cf = e.i
    else
      cf = e.i + 1
    end
    spr(cf, e.x, e.y)
  end
  
  //draw debug info
  if debug then
  		print("sec: ", 10, 10, 7)
  		print(sec, 28, 10, 7)
  
  		print("frm: ", 10, 20, 7)
  		print(frm, 28, 20, 7)
  end
end

function move_enemies()
  for x=1,#nmes do
    e = nmes[x]
    e.ftm = e.ftm - 1
    if e.ftm <= 0 then
      e.y = e.y + 16
      e.ftm = 100
    end
  end
end
__gfx__
00000000000000000000000000000000000000000000004000000400000000000000000000000000000000000000000000000000000000000000000000000000
0000000000d000000d00000000222000002220000099990000999900000cc000000cc00000000000000000000000000000000000000000000000000000000000
0070070000d0000000d000000025500000255000095666900956669000cc2c0000cc2c0000000000000000000000000000000000000000000000000000000000
00077000000dddd2000dddd2222222202222222009495690094596900c0cc0c00c0cc0c000000000000000000000000000000000000000000000000000000000
0007700000dddd0000dddd002222222a2222222a0945969009495690050cc0dd050cc0d000000000000000000000000000000000000000000000000000000000
00700700055555500555555052522252252225254944459449444594000ee000000ee00d00000000000000000000000000000000000000000000000000000000
0000000056767675576767650600056556500060409999044099990400e00e00000e0e0000000000000000000000000000000000000000000000000000000000
000000000555555005555550505000500500050540000040040000040e00e00000e00e0000000000000000000000000000000000000000000000000000000000
